# Data Dictionary: `data/processed/integrated_state_year.csv`

This document describes the columns in the integrated state–year dataset produced by `scripts_integrate.py`.

Each row in `integrated_state_year.csv` represents a **single state–year observation**, combining information from:

- ACS active commuting data (CDC / HHS, API ID: `8mrp-rmkw`)
- BRFSS obesity data (CDC, API ID: `hn4x-zwk7`)
- Breastfeeding policy / BFHI data (CDC, API ID: `k8w5-7ju6`)

---

## Table of Variables

| Column name         | Type    | Source dataset                                                   | Description                                                                                           | Transformation / Notes                                                                                  |
|---------------------|---------|------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------|
| `state`             | string  | Harmonized from ACS / BRFSS / BFHI                               | Two-letter state (or jurisdiction) abbreviation (e.g., `AL`, `CA`, `DC`).                            | Derived from the source “LocationAbbr” or equivalent fields. Used as the primary join key.            |
| `year`              | int     | Harmonized from ACS / BRFSS / BFHI                               | Calendar year of observation (e.g., `2011`, `2015`, `2021`).                                         | Derived from `YearStart` or ACS year fields; used as the primary join key.                            |
| `State`             | string  | Mostly BRFSS and BFHI (LocationDesc)                             | Full state (or jurisdiction) name (e.g., `Alabama`, `California`).                                   | Kept for readability; not used as a join key in the pipeline.                                         |
| `Year`              | float   | Derived from `year`                                              | Year stored as a numeric value (e.g., `2011.0`).                                                     | Convenience field created by summary code; not strictly required for analysis.                        |
| `active_commute_pct`| float   | ACS Active Commuting (Nutrition, Physical Activity, and Obesity) | Percent of adults who **walk or bike to work** in the state in that year.                            | Filtered to the relevant ACS indicator; aggregated to state–year; units are percentage points (0–100).|
| `obesity_pct`       | float   | BRFSS Obesity / Weight Status                                    | Percent of adults aged 18+ who have obesity (BMI ≥ 30) in the state in that year.                    | Restricted to state-level “Overall” rows (all sexes, all races, total category). Units: 0–100.        |
| `baby_friendly_pct` | float   | Breastfeeding – Env./Policy Supports (BFHI)                      | Percent of live births occurring at facilities designated as **baby-friendly** (BFHI) in that state. | Filtered to BFHI indicator; where multiple rows exist per state–year, values are averaged (mean).     |

> **Note:** Only the primary indicators used in our analysis are documented here. Any additional helper columns in intermediate files (e.g., confidence intervals, raw category labels) are preserved in raw/temporary tables but are not part of the final integrated CSV.

---

## Units and Ranges

- All percentages (`active_commute_pct`, `obesity_pct`, `baby_friendly_pct`) are expressed on a **0–100** scale, not as proportions (0–1).
- `year` values in this project run from **2011–2019** and **2021** (no 2020 row appears in the current integrated output).
- `state` includes U.S. states, the District of Columbia, and selected territories when present in the source data.

---

## Provenance

This table is generated by the following scripted steps:

1. `scripts_acquire_data.py` downloads the three source CSVs into `data/raw/`.
2. `scripts_integrate.py`:
   - Filters each dataset to the relevant indicators.
   - Harmonizes keys into `state` and `year`.
   - Aggregates to one row per state–year.
   - Merges them into `data/processed/integrated_state_year.csv`.
3. `scripts_profile_quality.py` produces:
   - `docs/quality/missingness.csv` – missing value profile.
   - `docs/quality/summary_by_year.csv` – average values per year across states.

Together with this dictionary, these scripts document the full path from the original CDC/HHS APIs to the final integrated dataset used in the analysis.